import{M as p}from"./BneLoQMV.js";import{ci as h,cj as I,r as v,e as A,A as u,u as P}from"./BhgO3_os.js";const C=(t,e="success",r="Success")=>{e=e.toLowerCase(),(!r||r.length==0||e!="success")&&(r=e.substring(0,1).toUpperCase()+e.substring(1)),p[e]({message:r,description:t,placement:"topRight",duration:3})},$=h("cart-store",{state:()=>({stateCartItems:[]}),actions:{addToCart(t){const e=this.stateCartItems.find(r=>r.id===t.id);e?e.quantity++:(t.quantity=1,this.stateCartItems.push(t))},removeFromCart(t){this.stateCartItems.splice(t,1)},clearCart(){this.stateCartItems=[]}},getters:{cartItems:t=>t.stateCartItems,total:t=>t.stateCartItems.reduce((e,r)=>e+r.price*r.quantity,0)},persist:{storage:I.sessionStorage()}});function N(t={}){var d;if(!t)return`/${u[0].slug}`;const{id:e,name:r,model_number:c,categories_json:s}=t,a=(d=u.find(m=>{var f,g;return[m.slug,...m.slugs||[]].includes((g=(f=s==null?void 0:s[0])==null?void 0:f.parent_name_with_slashes)==null?void 0:g.split("/")[0])}))==null?void 0:d.slug,o=i(r),l=i(c);return a?`/${a}/product/${e}/${o}-${l}`:`/product/${e}/${o}-${l}`}const n=v(!1),S=A(()=>n.value?"Adding...":"Add to Cart");function _(t){if(n.value)return;n.value=!0;const e=$();try{e.addToCart(t),C("Item added to cart","success")}catch(r){console.error(r),C("An error occurred. Please try again","error")}finally{n.value=!1}}const F=(t,e,r)=>{const c=P(),s=u.find(o=>o.slug===c.params.segment),a=i(e);return r?s?`/${s.slug}/${t}/${a}/page/${r}`:`/product/${t}/${a}/page/${r}`:s?`/${s.slug}/${t}/${a}`:`/product/${t}/${a}`},i=t=>t?t.replace(/ /g,"-").replace(/\//g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").toLowerCase():"";function M(t){$().removeFromCart(t)}function x(t){return typeof t=="string"&&(t=parseFloat(t)),new Intl.NumberFormat("en-KE").format(t)}function L(t,e){return Math.round((t-e)/t*100)}function j(t){const e=["and","the","of","in","on","at","to","a","an"];return t.split(" ").map(r=>e.includes(r)?r:r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}export{_ as a,F as b,j as c,L as d,S as e,x as f,N as g,M as r,$ as u};
