import{M as l}from"./BIEAgmtQ.js";import{ci as f,cj as d,r as g,e as m,u as p,A as C}from"./Bf48DDTp.js";const u=(t,e="success",r="Success")=>{e=e.toLowerCase(),(!r||r.length==0||e!="success")&&(r=e.substring(0,1).toUpperCase()+e.substring(1)),l[e]({message:r,description:t,placement:"topRight",duration:3})},i=f("cart-store",{state:()=>({stateCartItems:[]}),actions:{addToCart(t){const e=this.stateCartItems.find(r=>r.id===t.id);e?e.quantity++:(t.quantity=1,this.stateCartItems.push(t))},removeFromCart(t){this.stateCartItems.splice(t,1)},clearCart(){this.stateCartItems=[]}},getters:{cartItems:t=>t.stateCartItems,total:t=>t.stateCartItems.reduce((e,r)=>e+r.price*r.quantity,0)},persist:{storage:d.sessionStorage()}});function v(t,e,r,n){const o=n==null?void 0:n.split("/")[0];let s=e.replace(/ /g,"-").replace(/\//g,"-");s=s.replace(/-+/g,"-"),s=s.replace(/^-+|-+$/g,""),s=s.toLowerCase();let a=r.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),o?`/${o}/product/${t}/${s}-${a}`:`/product/${t}/${s}-${a}`}const c=g(!1),A=m(()=>c.value?"Adding...":"Add to Cart");function P(t){if(c.value)return;c.value=!0;const e=i();try{e.addToCart(t),u("Item added to cart","success")}catch(r){console.error(r),u("An error occurred. Please try again","error")}finally{c.value=!1}}const T=(t,e,r)=>{const n=p(),o=C.find(a=>a.slug===n.params.segment),s=$(e);return r?o?`/${o.slug}/${t}/${s}/page/${r}`:`/product/${t}/${s}/page/${r}`:o?`/${o.slug}/${t}/${s}`:`/product/${t}/${s}`},$=t=>t?t.replace(/ /g,"-").replace(/\//g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").toLowerCase():"";function L(t){i().removeFromCart(t)}function N(t){return typeof t=="string"&&(t=parseFloat(t)),new Intl.NumberFormat("en-KE").format(t)}function S(t,e){return Math.round((t-e)/t*100)}function b(t){const e=["and","the","of","in","on","at","to","a","an"];return t.split(" ").map(r=>e.includes(r)?r:r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}export{P as a,T as b,b as c,S as d,A as e,N as f,v as g,L as r,i as u};
