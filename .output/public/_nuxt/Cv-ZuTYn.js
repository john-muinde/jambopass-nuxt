import{_ as K}from"./DdmrsCq-.js";import{_ as Q}from"./DvOC_zPQ.js";import{_ as X}from"./CUxsIAhZ.js";import{_ as Y}from"./aA96lYGm.js";import{c as D,g as P,a as Z}from"./DZecjCsZ.js";import{a as E}from"./D2eelCs_.js";import{e as tt,u as st,r as a,f as et,g as ot,h as at,c as _,a as t,b as d,w as h,t as m,i as n,j,k as L,l as it,v as nt,F as q,p as B,o as c,d as k,A as lt}from"./BhgO3_os.js";import{u as ct}from"./2nxpqKD9.js";import{u as dt}from"./D2XM4M9u.js";import"./D6YHLAxY.js";import"./BneLoQMV.js";const rt={class:"main"},ut={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},_t={class:"container d-flex align-items-center"},mt={class:"breadcrumb"},pt={class:"breadcrumb-item"},gt={class:"breadcrumb-item"},vt={class:"breadcrumb-item active","aria-current":"page"},ht={class:"page-content"},ft={class:"container"},bt={class:"row"},wt={class:"col-lg-10"},yt={class:"products mb-3"},kt={class:"row"},Ct={class:"col-lg-12 col-md-12 mt-1"},Pt={id:"accordion-1",class:"accordion",style:{width:"100%"}},Lt={class:"card"},St={id:"heading-2",class:"card-header"},xt={class:"card-title"},Nt={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},It={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},Tt={class:"card-body"},At=["innerHTML"],$t={class:"product product-7 text-center"},Mt={class:"product-media"},Dt=["disabled"],Et=["onClick"],jt={class:"product-body"},qt={class:"product-cat"},Bt={class:"product-title"},Ht={class:"col-lg-2 order-lg-first mt-2"},Ot={class:"sidebar sidebar-shop sidebar-shop-solution"},Vt={key:0,class:"widget widget-collapsible widget-categories"},zt={id:"widget-1",class:"show"},Ft={class:"widget-body"},Ut={class:"filter-items filter-items-count"},Wt={class:"custom-control custom-checkbox"},Gt=["id","value","onChange"],Rt=["for"],Jt={class:"widget widget-collapsible"},Kt={id:"widget-4",class:"show"},Qt={class:"widget-body"},ds={__name:"[...slug]",setup(Xt){const f=tt(()=>lt.find(s=>s.slug===p.params.segment)),p=st(),{segment:H,id:r}=p.params,S=Array.isArray(p.params.slug)?p.params.slug:[p.params.slug],O=S[0],u=S[2],{api:x,loading:b}=ct(),V=a(`${D(H)} - ${D(O)}`);dt({title:V,meta:[{name:"description",content:"We offer state of the art commercial cold room equipment at Sheffield africa Ltd"},{name:"keywords",content:"Cold room equipment"}]});const C=a(u?parseInt(u):1),z=a(12);a(0);const N=a([]),g=a(r?parseInt(r):1),l=a([]),v=a([]),w=a([]),F=async()=>{try{const s=await x.get("/api/get-solution-categories",{params:{solution_id:g.value}});l.value=s.data.data,v.value=s.data.data.product_categories_json,console.log(v.value)}catch(s){console.error(s)}},I=a([]),T=async()=>{try{const s=await x.get("/api/get-solution-category-products",{params:{solution_id:g.value,checkedCategoriesSolutions:w.value}});I.value=s.data.products.data}catch(s){console.error(s)}};function U(s){let o=g.value;o in w.value||(w.value[o]=[]);const i=w.value[o];i.includes(s)?i.splice(i.indexOf(s),1):i.push(s)}const W=a([]),G=()=>{W.value=N.value.slice(0,0+z.value)};return et(()=>{b.value=!0,F(),T()}),ot(N,G),at(()=>{r!==""&&g.value!==r&&(C.value=1,g.value=r?parseInt(r):1,u!==""&&C.value!==u&&(C.value=u?parseInt(u):1),T())}),(s,o)=>{var $,M;const i=K,R=Q,J=X,A=Y;return c(),_("main",rt,[t("nav",ut,[t("div",_t,[t("ol",mt,[t("li",pt,[d(i,{to:"/"},{default:h(()=>o[0]||(o[0]=[k(" HOME ")])),_:1})]),t("li",gt,[d(i,{to:`/${f.value.slug}`},{default:h(()=>[k(m(f.value.name.toUpperCase()),1)]),_:1},8,["to"])]),t("li",vt,m(l.value.name),1)])])]),t("div",ht,[t("div",ft,[n(b)&&!l.value.length?(c(),j(R,{key:0})):L("",!0),!l.value.length&&!v.value.length&&n(b)==!1||!(($=f.value)!=null&&$.active)?(c(),j(J,{key:1})):L("",!0),it(t("div",bt,[t("div",wt,[t("div",yt,[t("div",kt,[t("div",Ct,[t("div",Pt,[t("div",Lt,[t("div",St,[t("h2",xt,[t("a",Nt,m(l.value.name)+" - SOLUTION ",1)])]),t("div",It,[t("div",Tt,[t("span",{innerHTML:l.value.description},null,8,At)])])])])]),(c(!0),_(q,null,B(I.value,e=>(c(),_("div",{key:e.id,class:"col-6 col-md-2 col-lg-2 col-xl-2 image-container"},[t("div",$t,[t("figure",Mt,[d(i,{to:("getProductLink"in s?s.getProductLink:n(P))(e)},{default:h(()=>[d(A,{src:("assets"in s?s.assets:n(E))(e.main_image_path),alt:e.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src","alt"])]),_:2},1032,["to"]),o[2]||(o[2]=t("div",{class:"product-action-vertical"},null,-1)),t("div",{class:"product-action",disabled:!e},[t("button",{type:"button",class:"btn-product btn-cart",onClick:y=>("addToCart"in s?s.addToCart:n(Z))(e)},o[1]||(o[1]=[t("span",null,"Add to Cart",-1)]),8,Et)],8,Dt)]),t("div",jt,[t("div",qt,[d(i,{to:("getProductLink"in s?s.getProductLink:n(P))(e)},{default:h(()=>{var y;return[k(m((y=e.product_brand)==null?void 0:y.name),1)]}),_:2},1032,["to"])]),t("h3",Bt,[d(i,{to:("getProductLink"in s?s.getProductLink:n(P))(e)},{default:h(()=>[k(m(e.name),1)]),_:2},1032,["to"])]),o[3]||(o[3]=t("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),t("aside",Ht,[t("div",Ot,[v.value.length?(c(),_("div",Vt,[o[4]||(o[4]=t("h3",{class:"widget-title"},[t("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),t("div",zt,[t("div",Ft,[t("div",Ut,[(c(!0),_(q,null,B(v.value,e=>(c(),_("div",{key:e.id,class:"filter-item"},[t("div",Wt,[t("input",{id:"cat-"+e.id,type:"checkbox",class:"custom-control-input",value:e.id,onChange:y=>U(e.id)},null,40,Gt),t("label",{class:"custom-control-label",for:"cat-"+e.id},m(e.name),9,Rt)])]))),128))])])])])):L("",!0),t("div",Jt,[t("div",Kt,[t("div",Qt,[d(A,{src:("assets"in s?s.assets:n(E))(l.value.main_image_path),format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src"])])])])])])],512),[[nt,!n(b)&&((M=f.value)==null?void 0:M.active)||l.value.length]])])])])}}};export{ds as default};
