import{M as g}from"./CFC1fKq5.js";import{e as h,ci as I,r as A,f as S,cj as $,u as v}from"./9rquJSXI.js";const m=(t,r="success",e="Success")=>{r=r.toLowerCase(),(!e||e.length==0||r!="success")&&(e=r.substring(0,1).toUpperCase()+r.substring(1)),g[r]({message:e,description:t,placement:"topRight",duration:3})},p=h("cart-store",{state:()=>({stateCartItems:[]}),actions:{addToCart(t){const r=this.stateCartItems.find(e=>e.id===t.id);r?r.quantity++:(t.quantity=1,this.stateCartItems.push(t))},removeFromCart(t){this.stateCartItems.splice(t,1)},clearCart(){this.stateCartItems=[]}},getters:{cartItems:t=>t.stateCartItems,total:t=>t.stateCartItems.reduce((r,e)=>r+e.price*e.quantity,0)},persist:{storage:I.sessionStorage()}});function C(t){return typeof t=="string"&&t.includes("/")&&(t=t.split("/")[0]),t=Array.isArray(t)?t[0]:t,$.find(r=>[r.slug,...r.slugs||[]].includes(t))}const T=(t,r,e)=>{const s=r.toLowerCase().replace(/[\s/]+/g,"-").replace(/^-+|-+$/g,"");return`/${e.slug}/solutions/${t}/${s}`},c=t=>t.toLowerCase().replace(/[\s/]+/g,"-").replace(/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"");function b(t={}){var d,l,f;if(!t)return`/${$[0].slug}`;const{id:r,name:e,model_number:s,categories_json:a}=t,o=(f=C((l=(d=a==null?void 0:a[0])==null?void 0:d.parent_name_with_slashes)==null?void 0:l.split("/")[0]))==null?void 0:f.slug,i=c(e),u=c(s);return o?`/${o}/product/${r}/${i}-${u}`:`/product/${r}/${i}-${u}`}const n=A(!1),y=S(()=>n.value?"Adding...":"Add to Cart");function L(t){if(n.value)return;n.value=!0;const r=p();try{r.addToCart(t),m("Item added to cart","success")}catch(e){console.error(e),m("An error occurred. Please try again","error")}finally{n.value=!1}}const _=(t,r,e,s)=>{if(!s||!s.slug){const o=v();s=C(o.params.segment)}const a=c(r);return e?s?`/${s.slug}/${t}/${a}/page/${e}`:`/product/${t}/${a}/page/${e}`:s?`/${s.slug}/${t}/${a}`:`/product/${t}/${a}`};function F(t){p().removeFromCart(t)}function M(t){return typeof t=="string"&&(t=parseFloat(t)),new Intl.NumberFormat("en-KE").format(t)}function w(t,r){return Math.round((t-r)/t*100)}function x(t){const r=["and","the","of","in","on","at","to","a","an"];return t.split(" ").map(e=>r.includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}export{L as a,C as b,x as c,T as d,_ as e,w as f,b as g,M as h,y as i,F as r,p as u};
