import{_ as dt}from"./j9TekATo.js";import{_ as mt}from"./JV1yJQ5M.js";import{_ as ut}from"./Up7KWAQ2.js";import{_ as pt,u as vt,j as W,f as K,k as _t,r as h,l as ht,B as X,C as gt,c as r,a as t,b as _,w as c,m as i,y as Y,F as g,p as b,t as f,D as bt,o as n,d as y,A as Z,E as tt,G as z,x as N,s as ft,q as et,H as st}from"./DogeFfG6.js";import{a as m}from"./C6-auSY3.js";import{N as yt}from"./BepG6KVd.js";import{Q as kt,u as Ct}from"./DYS1uF-A.js";import{u as wt,r as at}from"./BLc_HSz1.js";import{u as xt}from"./BLZYd8VU.js";import"./BosuxZz1.js";const Lt={class:"main"},St={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},Tt={class:"container d-flex align-items-center"},Mt={class:"breadcrumb"},Ht={class:"breadcrumb-item"},jt={key:0,class:"breadcrumb-item"},Nt={class:"breadcrumb-item"},Rt={class:"breadcrumb-item active","aria-current":"page"},Dt={class:"page-content mt-0"},$t={class:"container"},zt={key:0,class:"product-error-state"},At={class:"row justify-content-center"},Bt={class:"col-md-8 text-center py-5"},It={class:"error-actions"},Ut={key:1,class:"product-details-top"},Qt={class:"row"},Vt={class:"col-md-5"},qt={class:"product-gallery"},Et={class:"product-main-image"},Ft={id:"product-zoom-gallery",class:"product-image-gallery max-col-6"},Ot=["data-image","data-zoom-image","onMouseover"],Pt=["src","alt"],Gt={class:"product-gallery-shimmer"},Jt={class:"thumbnail-container"},Wt={class:"col-md-7"},Kt={class:"product-details"},Xt={class:"header text-primary"},Yt=["innerHTML"],Zt={key:0,class:"qr_section"},te=["src"],ee={class:"product-details-action product-details-sheffield mt-2"},se=["disabled"],ae={class:"product-details-tab mt-2"},ie={class:"nav nav-pills justify-content-left mobile-description",role:"tablist"},oe={class:"nav-item"},ne={class:"nav-item"},re={class:"tab-content"},le={class:"tab-pane fade active show"},ce={class:"product-desc-content"},de=["innerHTML"],me={class:"product-desc-content"},ue=["innerHTML"],pe={class:"product-details-shimmer"},ve={class:"tabs-shimmer mt-4"},_e={__name:"[...slug]",async setup(he){let R,q;const u=vt(),{api:it}=W(),{createProductSchema:ot}=Ct(),D=K(()=>{var s;return _t((s=a.value)==null?void 0:s.categories_json[0].parent_name_with_slashes)}),A=h(!1),E=h(0),B=h(""),I=h(0),U=h(null),p=h("description"),{data:a,pending:ge,error:nt}=([R,q]=ht(async()=>wt(`product-${u.params.id}`,async()=>{try{return(await it.get("/api/get-product",{params:{product_id:u.params.id}})).data.data}catch{throw new Error("Failed to load product data")}},{server:!0,lazy:!1,immediate:!0})),R=await R,q(),R),rt=async()=>{try{await at(`product-${u.params.id}`)}catch{}},{API_URL:Q}=W();xt(()=>{var e,l,$,k,C,w,x,L,S,T,o;if(!a.value)return{};const s=ot(a.value);return{title:(e=a.value)==null?void 0:e.name,meta:[{name:"description",content:(($=(l=a.value)==null?void 0:l.short_description)==null?void 0:$.replace(/<[^>]*>/g,""))||""},{property:"og:title",content:(k=a.value)==null?void 0:k.name},{property:"og:description",content:((w=(C=a.value)==null?void 0:C.short_description)==null?void 0:w.replace(/<[^>]*>/g,""))||""},{property:"og:image",content:m((x=a.value)==null?void 0:x.main_image_path)},{property:"og:url",content:Q+u.fullPath},{property:"og:type",content:"product"},{property:"twitter:title",content:(L=a.value)==null?void 0:L.name},{property:"twitter:description",content:((T=(S=a.value)==null?void 0:S.short_description)==null?void 0:T.replace(/<[^>]*>/g,""))||""},{property:"twitter:image",content:m((o=a.value)==null?void 0:o.main_image_path)},{property:"twitter:url",content:Q+u.fullPath}],script:[{type:"application/ld+json",children:JSON.stringify(s)}]}});const F=()=>{const s=kt(0,"L");s.addData(Q+u.fullPath),s.make(),U.value=s.createDataURL()},O=()=>{var s;(s=a.value)!=null&&s.product_images&&(P.value=a.value.product_images.map(e=>m(e.name)),E.value=I.value,A.value=!0)},lt=()=>{A.value=!1},ct=(s,e)=>{B.value=s,I.value=e},P=K(()=>{var s,e;return((e=(s=a.value)==null?void 0:s.product_images)==null?void 0:e.map(l=>m(l.name)))||[]});return X(()=>u.params.id,async(s,e)=>{s!==e&&await at(`product-${s}`)}),X(()=>a.value,s=>{var e;((e=s==null?void 0:s.product_images)==null?void 0:e.length)>0&&(B.value=s.product_images[0].name),F()},{immediate:!0}),gt(()=>{F()}),(s,e)=>{var C,w,x,L,S,T;const l=dt,$=mt,k=ut;return n(),r("main",Lt,[t("nav",St,[t("div",Tt,[t("ol",Mt,[t("li",Ht,[_(l,{to:"/"},{default:c(()=>e[4]||(e[4]=[y("HOME")])),_:1})]),(C=i(a))!=null&&C.categories_json&&((w=i(a))==null?void 0:w.categories_json.length)>0&&((x=i(a))!=null&&x.categories_json[0].parent_name_with_slashes)?(n(),r("li",jt,[_(l,{to:"/"+((L=D.value)==null?void 0:L.slug)},{default:c(()=>{var o;return[y(f((o=D.value)==null?void 0:o.name.toUpperCase()),1)]}),_:1},8,["to"])])):Y("",!0),t("li",Nt,[(n(!0),r(g,null,b((S=i(a))==null?void 0:S.categories_json,o=>(n(),Z(l,{key:o.id,to:("getCategoryLink"in s?s.getCategoryLink:i(tt))(o.id,o.name,void 0,D.value)},{default:c(()=>[y(f(o.name),1)]),_:2},1032,["to"]))),128))]),t("li",Rt,f((T=i(a))==null?void 0:T.name),1)])])]),t("div",Dt,[t("div",$t,[i(nt)?(n(),r("div",zt,[t("div",At,[t("div",Bt,[e[6]||(e[6]=bt('<div class="error-icon mb-4" data-v-bffa7b9c><i class="icon-exclamation-circle text-danger" style="font-size:3rem;" data-v-bffa7b9c></i></div><h2 class="error-title mb-3" data-v-bffa7b9c>Unable to Load Product</h2><p class="error-message text-muted mb-4" data-v-bffa7b9c> We&#39;re having trouble loading this product&#39;s information. This might be because: </p><ul class="error-reasons text-left mb-4 mx-auto" style="max-width:400px;" data-v-bffa7b9c><li data-v-bffa7b9c>The product may no longer be available</li><li data-v-bffa7b9c>There might be a temporary connection issue</li><li data-v-bffa7b9c>The product URL might be incorrect</li></ul>',4)),t("div",It,[t("button",{class:"btn btn-primary me-3",onClick:rt}," Try Again "),_(l,{to:"/",class:"btn btn-outline-primary whitespace-nowrap"},{default:c(()=>e[5]||(e[5]=[y(" Return to Homepage ")])),_:1})]),e[7]||(e[7]=t("p",{class:"mt-4 small text-muted"}," If this problem persists, please contact our support team ",-1))])])])):(n(),r("div",Ut,[t("div",Qt,[t("div",Vt,[_(k,null,{default:c(()=>{var o,M;return[t("div",qt,[t("figure",Et,[_($,{id:"product-zoom",src:("assetsSync"in s?s.assetsSync:i(m))(B.value),alt:(o=i(a))==null?void 0:o.name,style:{display:"grid","max-width":"100%","max-height":"350px","min-height":"350px",height:"auto","margin-left":"auto","margin-right":"auto",width:"auto"},onClick:O},null,8,["src","alt"]),t("a",{id:"btn-product-gallery",href:"#",class:"btn-product-gallery",onClick:z(O,["prevent"])},e[8]||(e[8]=[t("i",{class:"icon-arrows"},null,-1)]))]),t("div",null,[_(i(yt),{"esc-disabled":"",visible:A.value,imgs:P.value,index:E.value,onHide:lt},null,8,["visible","imgs","index"])]),t("div",Ft,[(n(!0),r(g,null,b((M=i(a))==null?void 0:M.product_images,(d,H)=>{var j;return n(),r("a",{key:d.id,class:N(["product-gallery-item",{active:H===I.value}]),href:"#","data-image":("assetsSync"in s?s.assetsSync:i(m))(d.name),"data-zoom-image":("assetsSync"in s?s.assetsSync:i(m))(d.name),onClick:e[0]||(e[0]=z(()=>{},["prevent"])),onMouseover:V=>ct(d.name,H)},[t("img",{src:("assetsSync"in s?s.assetsSync:i(m))(d.name),alt:(j=i(a))==null?void 0:j.name},null,8,Pt)],42,Ot)}),128))])])]}),fallback:c(()=>[t("div",Gt,[e[9]||(e[9]=t("div",{class:"main-image-shimmer shimmer"},null,-1)),t("div",Jt,[(n(),r(g,null,b(4,o=>t("div",{class:"thumbnail-shimmer shimmer",key:o})),64))])])]),_:1})]),t("div",Wt,[_(k,null,{default:c(()=>{var o,M,d,H,j,V,G,J;return[t("div",Kt,[t("h1",Xt,f((o=i(a))==null?void 0:o.name),1),t("div",{class:"short_description",innerHTML:(M=i(a))==null?void 0:M.short_description},null,8,Yt),t("p",null,[e[10]||(e[10]=t("span",null,"Brand : ",-1)),y(" "+f((d=i(a))==null?void 0:d.brand_name),1)]),e[13]||(e[13]=t("span",null,"Category : ",-1)),(n(!0),r(g,null,b((H=i(a))==null?void 0:H.categories_json,v=>(n(),Z(l,{key:v.id,style:{"font-weight":"500"},to:("getCategoryLink"in s?s.getCategoryLink:i(tt))(v.id,v.name,void 0,D.value)},{default:c(()=>[y(f(v.name),1)]),_:2},1032,["to"]))),128)),U.value?(n(),r("div",Zt,[e[11]||(e[11]=t("small",{class:"mb-1"},"Product QR",-1)),t("img",{style:{width:"120px"},src:U.value,alt:"QR Code"},null,8,te)])):Y("",!0),t("div",ee,[t("button",{type:"button",class:N(["btn-product btn-cart",{"disabled cursor-not-allowed":!((j=i(a))!=null&&j.id)}]),disabled:!((V=i(a))!=null&&V.id),onClick:e[1]||(e[1]=v=>("addToCart"in s?s.addToCart:i(ft))(i(a)))},e[12]||(e[12]=[t("span",null,"Add to Cart",-1)]),10,se)]),t("div",ae,[t("ul",ie,[t("li",oe,[t("a",{class:N(["nav-link active",{active:p.value==="description"}]),href:"#",onClick:e[2]||(e[2]=z(v=>p.value="description",["prevent"]))},"Description",2)]),t("li",ne,[t("a",{class:N(["nav-link",{active:p.value==="specs"}]),href:"#",onClick:e[3]||(e[3]=z(v=>p.value="specs",["prevent"]))},"Technical Specifications",2)])]),t("div",re,[et(t("div",le,[t("div",ce,[t("div",{innerHTML:(G=i(a))==null?void 0:G.description},null,8,de)])],512),[[st,p.value==="description"]]),et(t("div",{class:N(["tab-pane fade",{"active show":p.value==="specs"}])},[t("div",me,[t("div",{innerHTML:(J=i(a))==null?void 0:J.technical_specification},null,8,ue)])],2),[[st,p.value==="specs"]])])])])]}),fallback:c(()=>[t("div",pe,[e[14]||(e[14]=t("div",{class:"shimmer title-shimmer mb-4"},null,-1)),(n(),r(g,null,b(3,o=>t("div",{class:"shimmer text-shimmer mb-3",key:o})),64)),e[15]||(e[15]=t("div",{class:"shimmer button-shimmer mt-4"},null,-1)),t("div",ve,[(n(),r(g,null,b(2,o=>t("div",{class:"shimmer tab-shimmer",key:o})),64))])])]),_:1})])])]))])])])}}},Me=pt(_e,[["__scopeId","data-v-bffa7b9c"]]);export{Me as default};
