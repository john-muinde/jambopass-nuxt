import{_ as O}from"./j9TekATo.js";import{_ as j,r as c,f as U,B as D,o as d,c as m,a as e,d as M,t as C,F as A,p as I,x as P,q as z,S as G,y as h,j as J,a8 as H,N as Z,C as K,Z as Q,b,w as F,A as T,m as W,G as X}from"./DogeFfG6.js";import{_ as Y}from"./DnHmkm-N.js";import{_ as ee}from"./JV1yJQ5M.js";import{a as te}from"./C6-auSY3.js";import{u as se}from"./BLZYd8VU.js";import"./gJopQ2sd.js";const ae={key:0,class:"filter-container"},le={class:"filter-heading"},re=["value"],ne={class:"filter-content"},oe={class:"checkbox-wrapper"},ie={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"checkmark"},ce={class:"filter-label"},ue={key:0,class:"filter-count"},de={__name:"DynamicFilters",props:{items:{type:Array,required:!0},filterColumn:{type:String,required:!0},filters:{type:Array,required:!1,default:()=>[]},selectedFilters:{type:Array,required:!1,default:()=>[]},showNumbers:{type:Boolean,default:!1},searchTerm:{type:String,default:""},classes:{type:String,default:""}},emits:["update:displayedProducts"],setup(L,{emit:$}){const _=$,t=L,o=c(t.selectedFilters),N=c(t.showNumbers),f=c(t.items),v=c(t.searchTerm),p=c([]),w=c([]);t.filters.length>0&&(typeof t.filters[0]=="object"?(p.value=t.filters.map(s=>Object.keys(s)[0]),w.value=t.filters.map(s=>Object.values(s)[0])):(p.value=t.filters,w.value=t.filters)),U(()=>{var s,l,i;if(p.value.length)return p.value;if(!((s=t.items)!=null&&s.length)&&!((l=p.value)!=null&&l.length)&&!t.filterColumn)return[];if(!((i=t.items)!=null&&i.length)||!t.filterColumn)return[];p.value=[...new Set(t.items.map(g=>g[t.filterColumn]).filter(Boolean))].sort(),w.value=p.value});const x=s=>t.items.filter(l=>l[t.filterColumn]===s).length,S=s=>s.split("_").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),y=()=>{o.value.length===0?f.value=t.items:f.value=t.items.filter(s=>o.value.includes(s[t.filterColumn])),v.value&&(f.value=f.value.filter(s=>{var l,i,g;return((l=s.name)==null?void 0:l.toLowerCase().includes(v.value.toLowerCase()))||((i=s.description)==null?void 0:i.toLowerCase().includes(v.value.toLowerCase()))||((g=s.tags)==null?void 0:g.toLowerCase().includes(v.value.toLowerCase()))||s[t.filterColumn].toLowerCase().includes(v.value.toLowerCase())})),_("update:displayedProducts",{filteredData:f.value,selectedFilters:o.value})};return D(()=>t.searchTerm,s=>{v.value=s,y()}),D(()=>t.items,s=>{if(f.value=s,o.value.length>0){const l=s.filter(i=>o.value.includes(i[t.filterColumn]));_("update:displayedProducts",{filteredData:l,selectedFilters:o.value})}else _("update:displayedProducts",{filteredData:s,selectedFilters:[]})},{deep:!0}),(s,l)=>p.value.length?(d(),m("div",ae,[e("h4",le,[l[1]||(l[1]=e("span",{class:"filter-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])],-1)),M(" "+C(S(L.filterColumn)),1)]),e("div",{class:P(["filter-options-container",t.classes])},[(d(!0),m(A,null,I(p.value,(i,g)=>(d(),m("label",{key:i,class:P(["filter-card",{"filter-card-selected":o.value.includes(i)}])},[z(e("input",{"onUpdate:modelValue":l[0]||(l[0]=k=>o.value=k),type:"checkbox",value:i,class:"filter-checkbox",onChange:y},null,40,re),[[G,o.value]]),e("div",ne,[e("div",oe,[e("div",{class:P(["custom-checkbox",{checked:o.value.includes(i)}])},[o.value.includes(i)?(d(),m("svg",ie,l[2]||(l[2]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):h("",!0)],2),e("span",ce,C(w.value[g]),1)]),N.value?(d(),m("span",ue,C(x(i)),1)):h("",!0)])],2))),128))],2)])):h("",!0)}},pe=j(de,[["__scopeId","data-v-46647f62"]]),me={class:"main"},fe={class:"page-content"},ve={class:"container"},_e={class:"row"},ye={class:"col-lg-10 offset-lg-1 gallery-main-page-section"},ge={key:3,class:"row mt-2"},he={class:"entry entry-mask"},we={class:"entry-media entry-gallery"},Ce={class:"entry-body"},ke={class:"entry-title"},be={class:"entry-cats mt-1"},xe={style:{"background-color":"#c02434",padding:"5px"}},Pe={class:"col-lg-12 mt-3"},Le={"aria-label":"Page navigation"},$e={class:"pagination justify-content-center"},Ne=["onClick"],Se={__name:"gallery",setup(L){se({title:"Gallery | Media Center",meta:[{name:"description",content:"Journey through the lens: Our story in pictures."}]});const{api:$}=J(),_=H(),t=Z(),o=c(_.params.page?parseInt(_.params.page):1);c(12);const N=c(0),f=c([]),v=c(_.params.id?parseInt(_.params.id):1),p=c([]),w=c([]),x=c({}),S=c(["CSR","EVENT","PROJECT"]),y=c(!1),s=c(null),l=async(r=null)=>{y.value=!0,typeof r=="string"&&r.includes("http")&&(r=r.split("/api/").pop());try{const a=(await $.get(r||"/api/get-media-center-galleries",{params:{page:o.value,category_id:v.value,gallery_type:w.value}})).data;f.value=a.data,N.value=a.total,x.value={next_page_url:a.next_page_url,prev_page_url:a.prev_page_url,links:a.links},y.value=!1,k(f.value)}catch(n){n.value=n,console.error(n)}finally{y.value=!1}},i=(r,n)=>{let a=n.replace(/ /g,"-").replace(/\//g,"-");return a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase(),`/media/gallery/${r}/${a}`},g=r=>{if(r){const a=new URLSearchParams(r.split("?")[1]).get("page");a&&(o.value=parseInt(a),t.push(`/media/gallery/page/${o.value}`))}},k=r=>{p.value=r},q=({filteredData:r,selectedFilters:n})=>{k(r),n.value=n};return K(()=>{l()}),D(f,k),Q(()=>{const r=_.params,n=r.id?parseInt(r.id):1,a=r.page?parseInt(r.page):1;(v.value!==n||o.value!==a)&&(v.value=n,o.value=a,l())}),(r,n)=>{var V;const a=O,R=pe,B=Y,E=ee;return d(),m("div",null,[e("main",me,[e("div",fe,[e("div",ve,[e("div",_e,[e("div",ye,[n[2]||(n[2]=e("h2",{class:"about-us-title"},"Gallery",-1)),b(a,{to:"/media",class:"btn btn-primary btn-round btn-shadow float-right"},{default:F(()=>n[0]||(n[0]=[e("i",{class:"icon-long-arrow-left"},null,-1),e("span",null,"Back to Media Center",-1)])),_:1}),n[3]||(n[3]=e("p",{class:"lead about-us-lead text-primary mb-3"}," Journey Through the Lens: Our Story in Pictures ",-1)),b(R,{items:f.value,"filter-column":"gallery_type",filters:S.value,"onUpdate:displayedProducts":q},null,8,["items","filters"]),y.value?(d(),T(B,{key:0,type:"loading","content-type":"gallery"})):h("",!0),!p.value.length&&!y.value?(d(),T(B,{key:1,type:"empty","content-type":"gallery"})):h("",!0),s.value?(d(),T(B,{key:2,type:"error","content-type":"gallery"})):h("",!0),p.value.length?(d(),m("div",ge,[(d(!0),m(A,null,I(p.value,u=>(d(),m("div",{key:u.id,class:"entry-item col-sm-6 col-lg-4"},[e("article",he,[e("figure",we,[b(a,{to:i(u.id,u.name)},{default:F(()=>[b(E,{src:("assetsSync"in r?r.assetsSync:W(te))(u.main_image_path),alt:u.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover"},null,8,["src","alt"])]),_:2},1032,["to"])]),e("div",Ce,[n[1]||(n[1]=e("div",{class:"entry-meta"},[e("span",{class:"meta-separator"},"|")],-1)),e("h2",ke,[b(a,{to:i(u.id,u.name)},{default:F(()=>[M(C(u.name),1)]),_:2},1032,["to"])]),e("div",be,[e("b",xe,C(u.gallery_type),1)])])])]))),128)),e("div",Pe,[e("nav",Le,[e("ul",$e,[(d(!0),m(A,null,I((V=x.value)==null?void 0:V.links,(u,Be)=>(d(),m("li",{key:u.label,class:P(["page-item",{active:u.active}])},[u.url&&Number.isInteger(Number(u.label))?(d(),m("a",{key:0,class:"page-link",onClick:X(Fe=>g(u.url),["prevent"])},C(u.label),9,Ne)):h("",!0)],2))),128))])])])])):h("",!0)])])])])])])}}},qe=j(Se,[["__scopeId","data-v-eebf619f"]]);export{qe as default};
