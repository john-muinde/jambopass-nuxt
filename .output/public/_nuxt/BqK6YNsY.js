import{_ as W}from"./DFhTPdjK.js";import{_ as G}from"./BBEWUK-L.js";import{c as T,g as P,a as R}from"./DVoyQByC.js";import{a as A}from"./GLWmeCrm.js";import{u as J,e as k,r as i,f as K,g as Q,h as X,c as _,a as s,b as c,w as b,t as g,F as $,k as q,m as Y,l as p,o as h,d as w,A as Z}from"./Bf48DDTp.js";import{u as ss}from"./8wlechin.js";import{u as ts}from"./CXF57Pwd.js";import"./BIEAgmtQ.js";const es={class:"main"},as={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},os={class:"container d-flex align-items-center"},is={class:"breadcrumb"},ls={class:"breadcrumb-item"},ns={class:"breadcrumb-item"},cs={class:"breadcrumb-item active","aria-current":"page"},ds={class:"page-content"},rs={class:"container"},us={class:"row"},ms={class:"col-lg-10"},_s={class:"products mb-3"},gs={class:"row"},ps={class:"col-lg-12 col-md-12 mt-1"},hs={id:"accordion-1",class:"accordion",style:{width:"100%"}},vs={class:"card"},fs={id:"heading-2",class:"card-header"},bs={class:"card-title"},ws={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},ys={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},Ps={class:"card-body"},ks=["innerHTML"],Cs={class:"product product-7 text-center"},xs={class:"product-media"},Ls=["disabled"],Ms=["onClick"],Ss={class:"product-body"},Ns={class:"product-cat"},Vs={class:"product-title"},Is={class:"col-lg-2 order-lg-first mt-2"},Ts={class:"sidebar sidebar-shop sidebar-shop-solution"},As={key:0,class:"widget widget-collapsible widget-categories"},$s={id:"widget-1",class:"show"},qs={class:"widget-body"},Es={class:"filter-items filter-items-count"},Hs={class:"custom-control custom-checkbox"},Os=["id","value","onChange"],js=["for"],zs={class:"widget widget-collapsible"},Bs={id:"widget-4",class:"show"},Ds={class:"widget-body"},Ys={__name:"[...slug]",setup(Fs){const l=J(),C=k(()=>Z.find(t=>t.slug===l.params.segment)),{segment:E,id:d}=l.params,x=Array.isArray(l.params.slug)?l.params.slug:[l.params.slug],H=x[0],r=x[2],{api:L}=ss(),O=i(`${T(E)} - ${T(H)}`);ts({title:O,meta:[{name:"description",content:"We offer state of the art commercial cold room equipment at Sheffield africa Ltd"},{name:"keywords",content:"Cold room equipment"}]});const u=i(r?parseInt(r):1),M=i(12),j=i(0),S=i([]),n=i(d?parseInt(d):1),v=i([]),y=i([]),f=i([]),z=async()=>{try{const t=await L.get("/api/get-solution-categories",{params:{solution_id:n.value}});v.value=t.data.data,y.value=t.data.data.product_categories_json}catch(t){console.error(t)}},N=i([]),V=async()=>{n.value+"",f.value[n.value];try{const t=await L.get("/api/get-solution-category-products",{params:{solution_id:n.value,checkedCategoriesSolutions:f.value}});N.value=t.data.products.data}catch(t){console.error(t)}};function B(t){let a=n.value;a in f.value||(f.value[a]=[]);const o=f.value[a];o.includes(t)?o.splice(o.indexOf(t),1):o.push(t)}const I=k(()=>Math.ceil(j.value/M.value)),D=i([]),F=()=>{D.value=S.value.slice(0,0+M.value)};return k(()=>{const t=[];u.value>1&&t.push("Prev");let o=Math.max(1,u.value-Math.floor(5/2)),m=Math.min(o+5-1,I.value);m-o<4&&(o=Math.max(1,m-5+1));for(let e=o;e<=m;e++)t.push(e);return u.value<I.value&&t.push("Next"),t}),K(()=>{z(),V()}),Q(S,F),X(()=>{l.params,l.query,d!==""&&n.value!==d&&(u.value=1,n.value=d?parseInt(d):1,r!==""&&u.value!==r&&(u.value=r?parseInt(r):1),V())}),(t,a)=>{const o=W,m=G;return h(),_("main",es,[s("nav",as,[s("div",os,[s("ol",is,[s("li",ls,[c(o,{to:"/"},{default:b(()=>a[0]||(a[0]=[w(" HOME ")])),_:1})]),s("li",ns,[c(o,{to:`/${C.value.slug}`},{default:b(()=>[w(g(C.value.name.toUpperCase()),1)]),_:1},8,["to"])]),s("li",cs,g(v.value.name),1)])])]),s("div",ds,[s("div",rs,[s("div",us,[s("div",ms,[s("div",_s,[s("div",gs,[s("div",ps,[s("div",hs,[s("div",vs,[s("div",fs,[s("h2",bs,[s("a",ws,g(v.value.name)+" - SOLUTION ",1)])]),s("div",ys,[s("div",Ps,[s("span",{innerHTML:v.value.description},null,8,ks)])])])])]),(h(!0),_($,null,q(N.value,e=>(h(),_("div",{key:e.id,class:"col-6 col-md-2 col-lg-2 col-xl-2 image-container"},[s("div",Cs,[s("figure",xs,[c(o,{to:("getProductLink"in t?t.getProductLink:p(P))(e.id,e.name,e.model_number)},{default:b(()=>[c(m,{src:("assets"in t?t.assets:p(A))(e.main_image_path),alt:e.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src","alt"])]),_:2},1032,["to"]),a[2]||(a[2]=s("div",{class:"product-action-vertical"},null,-1)),s("div",{class:"product-action",disabled:!e},[s("button",{type:"button",class:"btn-product btn-cart",onClick:U=>("addToCart"in t?t.addToCart:p(R))(e)},a[1]||(a[1]=[s("span",null,"Add to Cart",-1)]),8,Ms)],8,Ls)]),s("div",Ss,[s("div",Ns,[c(o,{to:("getProductLink"in t?t.getProductLink:p(P))(e.id,e.name,e.model_number)},{default:b(()=>[w(g(e.product_brand.name),1)]),_:2},1032,["to"])]),s("h3",Vs,[c(o,{to:("getProductLink"in t?t.getProductLink:p(P))(e.id,e.name,e.model_number)},{default:b(()=>[w(g(e.name),1)]),_:2},1032,["to"])]),a[3]||(a[3]=s("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),s("aside",Is,[s("div",Ts,[y.value.length?(h(),_("div",As,[a[4]||(a[4]=s("h3",{class:"widget-title"},[s("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),s("div",$s,[s("div",qs,[s("div",Es,[(h(!0),_($,null,q(y.value,e=>(h(),_("div",{key:e.id,class:"filter-item"},[s("div",Hs,[s("input",{id:"cat-"+e.id,type:"checkbox",class:"custom-control-input",value:e.id,onChange:U=>B(e.id)},null,40,Os),s("label",{class:"custom-control-label",for:"cat-"+e.id},g(e.name),9,js)])]))),128))])])])])):Y("",!0),s("div",zs,[s("div",Bs,[s("div",Ds,[c(m,{src:("assets"in t?t.assets:p(A))(v.value.main_image_path),format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src"])])])])])])])])])])}}};export{Ys as default};
