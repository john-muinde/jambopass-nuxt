import{_ as W}from"./DFhTPdjK.js";import{_ as G}from"./BBEWUK-L.js";import{c as A,g as k,a as R}from"./DVoyQByC.js";import{a as $}from"./GLWmeCrm.js";import{e as C,u as J,r as i,f as K,g as Q,h as X,c as m,a as s,b as l,w as f,t as _,F as q,k as E,m as Y,l as g,o as p,d as y,A as Z}from"./Bf48DDTp.js";import{u as ss}from"./8wlechin.js";import{u as ts}from"./CXF57Pwd.js";import"./BIEAgmtQ.js";const es={class:"main"},as={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},os={class:"container d-flex align-items-center"},is={class:"breadcrumb"},ns={class:"breadcrumb-item"},ls={class:"breadcrumb-item"},cs={class:"breadcrumb-item active","aria-current":"page"},ds={class:"page-content"},rs={class:"container"},us={class:"row"},ms={class:"col-lg-10"},_s={class:"products mb-3"},gs={class:"row"},ps={class:"col-lg-12 col-md-12 mt-1"},hs={id:"accordion-1",class:"accordion",style:{width:"100%"}},vs={class:"card"},fs={id:"heading-2",class:"card-header"},bs={class:"card-title"},ws={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},ys={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},Ps={class:"card-body"},ks=["innerHTML"],Cs={class:"product product-7 text-center"},xs={class:"product-media"},Ls=["disabled"],Ms=["onClick"],Ss={class:"product-body"},Ns={class:"product-cat"},Vs={class:"product-title"},Is={class:"col-lg-2 order-lg-first mt-2"},Ts={class:"sidebar sidebar-shop sidebar-shop-solution"},As={key:0,class:"widget widget-collapsible widget-categories"},$s={id:"widget-1",class:"show"},qs={class:"widget-body"},Es={class:"filter-items filter-items-count"},Hs={class:"custom-control custom-checkbox"},Os=["id","value","onChange"],js=["for"],zs={class:"widget widget-collapsible"},Bs={id:"widget-4",class:"show"},Ds={class:"widget-body"},Ys={__name:"[...slug]",setup(Fs){const x=C(()=>Z.find(t=>t.slug===n.params.segment)),n=J(),{segment:H,id:c}=n.params,L=Array.isArray(n.params.slug)?n.params.slug:[n.params.slug],O=L[0],d=L[2],{api:M}=ss(),j=i(`${A(H)} - ${A(O)}`);ts({title:j,meta:[{name:"description",content:"We offer state of the art commercial cold room equipment at Sheffield africa Ltd"},{name:"keywords",content:"Cold room equipment"}]});const r=i(d?parseInt(d):1),S=i(12),z=i(0),N=i([]),h=i(c?parseInt(c):1),v=i([]),P=i([]),b=i([]),B=async()=>{try{const t=await M.get("/api/get-solution-categories",{params:{solution_id:h.value}});v.value=t.data.data,P.value=t.data.data.product_categories_json}catch(t){console.error(t)}},V=i([]),I=async()=>{try{const t=await M.get("/api/get-solution-category-products",{params:{solution_id:h.value,checkedCategoriesSolutions:b.value}});V.value=t.data.products.data}catch(t){console.error(t)}};function D(t){let a=h.value;a in b.value||(b.value[a]=[]);const o=b.value[a];o.includes(t)?o.splice(o.indexOf(t),1):o.push(t)}const T=C(()=>Math.ceil(z.value/S.value)),F=i([]),U=()=>{F.value=N.value.slice(0,0+S.value)};return C(()=>{const t=[];r.value>1&&t.push("Prev");let o=Math.max(1,r.value-Math.floor(5/2)),u=Math.min(o+5-1,T.value);u-o<4&&(o=Math.max(1,u-5+1));for(let e=o;e<=u;e++)t.push(e);return r.value<T.value&&t.push("Next"),t}),K(()=>{B(),I()}),Q(N,U),X(()=>{n.params,n.query,c!==""&&h.value!==c&&(r.value=1,h.value=c?parseInt(c):1,d!==""&&r.value!==d&&(r.value=d?parseInt(d):1),I())}),(t,a)=>{const o=W,u=G;return p(),m("main",es,[s("nav",as,[s("div",os,[s("ol",is,[s("li",ns,[l(o,{to:"/"},{default:f(()=>a[0]||(a[0]=[y(" HOME ")])),_:1})]),s("li",ls,[l(o,{to:`/${x.value.slug}`},{default:f(()=>[y(_(x.value.name.toUpperCase()),1)]),_:1},8,["to"])]),s("li",cs,_(v.value.name),1)])])]),s("div",ds,[s("div",rs,[s("div",us,[s("div",ms,[s("div",_s,[s("div",gs,[s("div",ps,[s("div",hs,[s("div",vs,[s("div",fs,[s("h2",bs,[s("a",ws,_(v.value.name)+" - SOLUTION ",1)])]),s("div",ys,[s("div",Ps,[s("span",{innerHTML:v.value.description},null,8,ks)])])])])]),(p(!0),m(q,null,E(V.value,e=>(p(),m("div",{key:e.id,class:"col-6 col-md-2 col-lg-2 col-xl-2 image-container"},[s("div",Cs,[s("figure",xs,[l(o,{to:("getProductLink"in t?t.getProductLink:g(k))(e.id,e.name,e.model_number)},{default:f(()=>[l(u,{src:("assets"in t?t.assets:g($))(e.main_image_path),alt:e.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src","alt"])]),_:2},1032,["to"]),a[2]||(a[2]=s("div",{class:"product-action-vertical"},null,-1)),s("div",{class:"product-action",disabled:!e},[s("button",{type:"button",class:"btn-product btn-cart",onClick:w=>("addToCart"in t?t.addToCart:g(R))(e)},a[1]||(a[1]=[s("span",null,"Add to Cart",-1)]),8,Ms)],8,Ls)]),s("div",Ss,[s("div",Ns,[l(o,{to:("getProductLink"in t?t.getProductLink:g(k))(e.id,e.name,e.model_number)},{default:f(()=>{var w;return[y(_((w=e.product_brand)==null?void 0:w.name),1)]}),_:2},1032,["to"])]),s("h3",Vs,[l(o,{to:("getProductLink"in t?t.getProductLink:g(k))(e.id,e.name,e.model_number)},{default:f(()=>[y(_(e.name),1)]),_:2},1032,["to"])]),a[3]||(a[3]=s("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),s("aside",Is,[s("div",Ts,[P.value.length?(p(),m("div",As,[a[4]||(a[4]=s("h3",{class:"widget-title"},[s("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),s("div",$s,[s("div",qs,[s("div",Es,[(p(!0),m(q,null,E(P.value,e=>(p(),m("div",{key:e.id,class:"filter-item"},[s("div",Hs,[s("input",{id:"cat-"+e.id,type:"checkbox",class:"custom-control-input",value:e.id,onChange:w=>D(e.id)},null,40,Os),s("label",{class:"custom-control-label",for:"cat-"+e.id},_(e.name),9,js)])]))),128))])])])])):Y("",!0),s("div",zs,[s("div",Bs,[s("div",Ds,[l(u,{src:("assets"in t?t.assets:g($))(v.value.main_image_path),format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src"])])])])])])])])])])}}};export{Ys as default};
