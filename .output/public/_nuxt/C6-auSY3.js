const t={API_URL:"https://sheffieldafrica.com",BASE_URL:"https://dev.sheffieldafrica.com",STORAGE_PATH:"/storage/",DEFAULT_IMAGE:"/assets/images/logo.png",PLACEHOLDER_IMAGE:"/assets/images/placeholder.jpg",SUPPORTED_FORMATS:["webp","jpeg","png","avif"],MAX_IMAGE_SIZE:5e3,DEFAULT_QUALITY:80};function l(e){if(!e)return"";const i=[];return e.width&&(e.width>t.MAX_IMAGE_SIZE&&(console.warn(`Width ${e.width} exceeds maximum allowed ${t.MAX_IMAGE_SIZE}`),e.width=t.MAX_IMAGE_SIZE),i.push(`w=${e.width}`)),e.height&&(e.height>t.MAX_IMAGE_SIZE&&(console.warn(`Height ${e.height} exceeds maximum allowed ${t.MAX_IMAGE_SIZE}`),e.height=t.MAX_IMAGE_SIZE),i.push(`h=${e.height}`)),e.fit&&i.push(`fit=${e.fit}`),e.position&&i.push(`pos=${e.position}`),i.length?`?${i.join("&")}`:""}function A(e,i){let a=e;return i.format&&i.format!=="original"&&(t.SUPPORTED_FORMATS.includes(i.format)?a=a.replace(/\.[^/.]+$/,`.${i.format}`):console.warn(`Unsupported format ${i.format}. Using original format.`)),i.quality&&(i.quality<1||i.quality>100)&&(console.warn("Quality must be between 1 and 100. Using default quality."),i.quality=t.DEFAULT_QUALITY),a}function r(e,i=!0){return i?e.split("/").map(a=>a.split(",").map(encodeURIComponent).join(",")).join("/"):e}function n(e,i={append:!0,encode:!0,local:!1,quality:t.DEFAULT_QUALITY}){try{if(!e)return`${t.API_URL}${t.DEFAULT_IMAGE}`;if(e.startsWith("http"))return e;if(i.local||e.startsWith("/")&&!i.append)return`${t.BASE_URL}${e}`;let a=r(e,i.encode);return a=A(a,i),(i.append?`${t.API_URL}${t.STORAGE_PATH}${a}`:`${t.API_URL}${a}`)+l(i.transform)}catch(a){return console.error("Error processing asset:",a),`${t.BASE_URL}${t.PLACEHOLDER_IMAGE}`}}export{n as a};
