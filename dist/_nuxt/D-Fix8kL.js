import{_ as oe}from"./PrlIM9hS.js";import{a as le}from"./FTVK6BGx.js";import{c as H,a as ne}from"./DiceT0uW.js";import{u as ie,r as i,e as B,f as re,g as U,h as ce,i as de,c as v,a as e,b as m,w as g,t as c,d as p,j as ue,v as ve,k as pe,F as P,l as N,n as T,m as Z,o as d,p as G,q as me,A as ge}from"./BYC8Z7Yu.js";import{u as _e}from"./qgurdWUs.js";import{u as be}from"./C_GYCgpZ.js";import"./De1gHnLQ.js";const he={class:"main"},fe={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},ke={class:"container d-flex align-items-center"},Ce={class:"breadcrumb"},we={class:"breadcrumb-item"},xe={class:"breadcrumb-item"},ye={class:"breadcrumb-item active","aria-current":"page"},Pe={class:"page-content"},Ne={class:"container"},$e={class:"row"},Ae={class:"col-lg-10"},Se={class:"toolbox"},Ve={class:"toolbox-left"},Me={class:"toolbox-info"},Le={class:"toolbox-right"},Be={class:"toolbox-sort"},Te={class:"select-custom"},Ee={class:"products mb-3 products-section"},Oe={class:"row"},Fe={class:"product product-7 text-center"},Ie={class:"product-media"},De={class:"product-action"},je=["onClick"],qe={class:"product-body"},ze={class:"product-cat"},He={class:"product-title"},Ue={"aria-label":"Page navigation"},Ze={class:"pagination justify-content-center"},Ge={class:"page-item-total"},Re={class:"col-lg-2 order-lg-first"},We={class:"sidebar sidebar-shop sidebar-shop-category"},Je={key:0,class:"widget widget-collapsible"},Ke={id:"widget-1",class:"show"},Qe={class:"widget-body"},Xe={class:"filter-items filter-items-count"},Ye={class:"custom-control custom-checkbox"},et=["id","value","onChange"],tt=["for"],at={class:"item-count"},st={class:"widget widget-collapsible"},ot={id:"widget-4",class:"show"},lt={class:"widget-body"},nt={class:"filter-items"},it={class:"custom-control custom-checkbox"},rt=["id","value","onChange"],ct=["for"],ht={__name:"[...slug]",setup(dt){const x=ie(),{segment:E,id:f}=x.params,O=Array.isArray(x.params.slug)?x.params.slug:[x.params.slug],R=O[0],k=O[2],{api:W}=_e(),F=i(`${H(E)} - ${H(R)}`),I=B(()=>ge.find(o=>o.slug===E));be({title:F,meta:[{name:"description",content:F}]});const l=i(k?parseInt(k):1),D=i(12),$=i(0),A=i([]),j=i(0),_=i(f?parseInt(f):1),S=i([]),q=i([]),r=i([]),b=i([]),h=i([]),y=i(""),V=async()=>{try{const o={[_.value]:b.value[_.value]||[]};b.value=o;const a={[_.value]:h.value[_.value]||[]};h.value=a;const s=await W.get("/api/get-products",{params:{page:l.value,per_page:D.value,category_id:_.value,checkedCategories:b.value,checkedBrands:h.value,selectedSortOption:y.value}});A.value=s.data.products.data,$.value=s.data.products.total,j.value=s.data.products.per_page,S.value=s.data.categories,q.value=s.data.brands,r.value=s.data.the_category}catch(o){console.error(o)}};function J(o){let a=r.value.id;a in b.value||(b.value[a]=[]);const s=b.value[a];s.includes(o)?s.splice(s.indexOf(o),1):s.push(o)}function K(o){let a=r.value.id;a in h.value||(h.value[a]=[]);const s=h.value[a];s.includes(o)?s.splice(s.indexOf(o),1):s.push(o)}function Q(){document.querySelectorAll('input[type="checkbox"]').forEach(a=>{a.checked=!1}),b.value=[],h.value=[],y.value=null}const C=B(()=>Math.ceil($.value/D.value)),z=i([]),X=()=>{l.value>1&&l.value--},Y=()=>{l.value<C.value&&l.value++},ee=o=>{l.value=o},M=(o,a,s,n)=>{let t=a.replace(/ /g,"-").replace(/\//g,"-");t=t.replace(/-+/g,"-"),t=t.replace(/^-+|-+$/g,""),t=t.toLowerCase();let u=n.replace(/ /g,"-").replace(/\//g,"-");u=u.replace(/-+/g,"-"),u=u.replace(/^-+|-+$/g,""),u=u.toLowerCase();let w=s.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return w=w.replace(/-+/g,"-"),w=w.replace(/^-+|-+$/g,""),`/laundry/product/${o}/${t}-${w}`},L=(o,a,s)=>{if(a===void 0)return"/laundry";{let n=a.replace(/ /g,"-").replace(/\//g,"-");return n=n.replace(/-+/g,"-"),n=n.replace(/^-+|-+$/g,""),n=n.toLowerCase(),`/laundry/${o}/${n}/page/${s}`}},te=()=>{z.value=A.value},ae=o=>Number.isInteger(o),se=B(()=>{const o=[];l.value>1&&o.push("Prev");let s=Math.max(1,l.value-Math.floor(5/2)),n=Math.min(s+5-1,C.value);n-s<4&&(s=Math.max(1,n-5+1));for(let t=s;t<=n;t++)o.push(t);return l.value<C.value&&o.push("Next"),o});return re(()=>{V()}),U(l,V),U(A,te),ce(()=>{f!==""&&_.value!==f&&(l.value=1,_.value=f?parseInt(f):1,k!==""&&l.value!==k&&(l.value=k?parseInt(k):1),V())}),(o,a)=>{const s=de("router-link"),n=oe;return d(),v("main",he,[e("nav",fe,[e("div",ke,[e("ol",Ce,[e("li",we,[m(s,{to:"/"},{default:g(()=>a[1]||(a[1]=[p(" HOME ")])),_:1})]),e("li",xe,[m(s,{to:`/${I.value.slug}`},{default:g(()=>[p(c(I.value.name.toUpperCase()),1)]),_:1},8,["to"])]),e("li",ye,c(r.value.name),1)])])]),e("div",Pe,[e("div",Ne,[e("div",$e,[e("div",Ae,[e("div",Se,[e("div",Ve,[e("div",Me,[a[2]||(a[2]=p(" Showing ")),e("span",null,c(j.value)+" of "+c($.value),1),a[3]||(a[3]=p(" Products "))])]),e("div",Le,[e("div",Be,[a[5]||(a[5]=e("label",{for:"sortby"},"Sort by:",-1)),e("div",Te,[ue(e("select",{id:"sortby","onUpdate:modelValue":a[0]||(a[0]=t=>y.value=t),name:"sortby",class:"form-control"},a[4]||(a[4]=[pe('<option value="">Default</option><option value="name_asc">Name A - Z</option><option value="name_desc">Name Z - A</option><option value="created_at_asc">Latest First</option><option value="created_at_desc">Oldest First</option>',5)]),512),[[ve,y.value]])])])])]),e("div",Ee,[e("div",Oe,[(d(!0),v(P,null,N(z.value,t=>(d(),v("div",{key:t.id,class:"col-6 col-md-3 col-lg-2 col-xl-2"},[e("div",Fe,[e("figure",Ie,[m(s,{to:M(t.id,t.name,t.model_number,r.value.name)},{default:g(()=>[m(n,{src:("assets"in o?o.assets:G(le))(t.main_image_path),alt:t.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src","alt"])]),_:2},1032,["to"]),a[7]||(a[7]=e("div",{class:"product-action-vertical"},null,-1)),e("div",De,[e("button",{type:"button",class:"btn-product btn-cart",onClick:u=>("addToCart"in o?o.addToCart:G(ne))(t)},a[6]||(a[6]=[e("span",null,"Add to Cart",-1)]),8,je)])]),e("div",qe,[e("div",ze,[m(s,{to:M(t.id,t.name,t.model_number,r.value.name)},{default:g(()=>[p(c(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",He,[m(s,{to:M(t.id,t.name,t.model_number,r.value.name)},{default:g(()=>[p(c(t.name),1)]),_:2},1032,["to"])]),a[8]||(a[8]=e("div",{class:"ratings-container"},null,-1))])])]))),128))])]),e("nav",Ue,[e("ul",Ze,[e("li",{class:T(["page-item",{disabled:l.value===1}])},[m(s,{class:"page-link page-link-prev",to:L(r.value.id,r.value.name,l.value-1),"aria-label":"Previous",tabindex:"-1","aria-disabled":"true",onClick:X},{default:g(()=>a[9]||(a[9]=[e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-left"})],-1),p(" Prev ")])),_:1},8,["to"])],2),(d(!0),v(P,null,N(se.value,t=>(d(),v("li",{key:t,class:T(["page-item",{active:t===l.value}])},[ae(t)?(d(),me(s,{key:0,class:"page-link",to:L(r.value.id,r.value.name,t),onClick:u=>ee(t)},{default:g(()=>[p(c(t),1)]),_:2},1032,["to","onClick"])):Z("",!0)],2))),128)),e("li",Ge,"of "+c(C.value),1),e("li",{class:T(["page-item",{disabled:l.value===C.value}])},[m(s,{class:"page-link page-link-next",to:L(r.value.id,r.value.name,l.value+1),"aria-label":"Next",onClick:Y},{default:g(()=>a[10]||(a[10]=[p(" Next "),e("span",{"aria-hidden":"true"},[e("i",{class:"icon-long-arrow-right"})],-1)])),_:1},8,["to"])],2)])])]),e("aside",Re,[e("div",We,[e("div",{class:"widget widget-clean"},[a[11]||(a[11]=e("label",null,"Filters:",-1)),e("button",{class:"btn btn-primary btn-sm sidebar-filter-clear",onClick:Q}," Clean All ")]),S.value.length?(d(),v("div",Je,[a[12]||(a[12]=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Category ")],-1)),e("div",Ke,[e("div",Qe,[e("div",Xe,[(d(!0),v(P,null,N(S.value,t=>(d(),v("div",{key:t.id,class:"filter-item"},[e("div",Ye,[e("input",{id:"cat-"+t.id,type:"checkbox",class:"custom-control-input",value:t.id,onChange:u=>J(t.id)},null,40,et),e("label",{class:"custom-control-label",for:"cat-"+t.id},c(t.name),9,tt)]),e("span",at,c(t.category_products_count),1)]))),128))])])])])):Z("",!0),e("div",st,[a[13]||(a[13]=e("h3",{class:"widget-title"},[e("a",{href:"#widget-4",role:"button","aria-expanded":"true","aria-controls":"widget-4"}," Brand ")],-1)),e("div",ot,[e("div",lt,[e("div",nt,[(d(!0),v(P,null,N(q.value,t=>(d(),v("div",{key:t.id,class:"filter-item"},[e("div",it,[e("input",{id:"brand-"+t.product_brand.id,type:"checkbox",class:"custom-control-input",value:t.product_brand.id,onChange:u=>K(t.product_brand.id)},null,40,rt),e("label",{class:"custom-control-label",for:"brand-"+t.product_brand.id},c(t.product_brand.name),9,ct)])]))),128))])])])])])])])])])])}}};export{ht as default};
