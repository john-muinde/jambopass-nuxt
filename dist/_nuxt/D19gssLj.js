import{_ as W}from"./PrlIM9hS.js";import{c as T,g as P,a as G}from"./DiceT0uW.js";import{a as A}from"./FTVK6BGx.js";import{e as C,u as R,r as i,f as J,g as K,h as Q,i as X,c as _,a as e,b as c,w as f,t as g,F as $,l as q,m as Y,p,o as v,d as w,A as Z}from"./BYC8Z7Yu.js";import{u as ee}from"./qgurdWUs.js";import{u as se}from"./C_GYCgpZ.js";import"./De1gHnLQ.js";const te={class:"main"},ae={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},oe={class:"container d-flex align-items-center"},ie={class:"breadcrumb"},le={class:"breadcrumb-item"},ne={class:"breadcrumb-item"},ce={class:"breadcrumb-item active","aria-current":"page"},de={class:"page-content"},re={class:"container"},ue={class:"row"},me={class:"col-lg-10"},_e={class:"products mb-3"},ge={class:"row"},pe={class:"col-lg-12 col-md-12 mt-1"},ve={id:"accordion-1",class:"accordion",style:{width:"100%"}},he={class:"card"},be={id:"heading-2",class:"card-header"},fe={class:"card-title"},we={class:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},ye={id:"collapse-2",class:"collapse","aria-labelledby":"heading-2","data-parent":"#accordion-1",style:{}},Pe={class:"card-body"},Ce=["innerHTML"],ke={class:"product product-7 text-center"},xe={class:"product-media"},Le=["disabled"],Me=["onClick"],Se={class:"product-body"},Ve={class:"product-cat"},Ie={class:"product-title"},Ne={class:"col-lg-2 order-lg-first mt-2"},Te={class:"sidebar sidebar-shop sidebar-shop-solution"},Ae={key:0,class:"widget widget-collapsible widget-categories"},$e={id:"widget-1",class:"show"},qe={class:"widget-body"},Ee={class:"filter-items filter-items-count"},He={class:"custom-control custom-checkbox"},Oe=["id","value","onChange"],je=["for"],ze={class:"widget widget-collapsible"},Be={id:"widget-4",class:"show"},De={class:"widget-body"},Xe={__name:"[...slug]",setup(Fe){const k=C(()=>Z.find(s=>s.slug===l.params.segment)),l=R(),{segment:E,id:d}=l.params,x=Array.isArray(l.params.slug)?l.params.slug:[l.params.slug],H=x[0],r=x[2],{api:L}=ee(),O=i(`${T(E)} - ${T(H)}`);se({title:O,meta:[{name:"description",content:"We offer state of the art commercial cold room equipment at Sheffield africa Ltd"},{name:"keywords",content:"Cold room equipment"}]});const u=i(r?parseInt(r):1),M=i(12),j=i(0),S=i([]),n=i(d?parseInt(d):1),h=i([]),y=i([]),b=i([]),z=async()=>{try{const s=await L.get("/api/get-solution-categories",{params:{solution_id:n.value}});h.value=s.data.data,y.value=s.data.data.product_categories_json}catch(s){console.error(s)}},V=i([]),I=async()=>{n.value+"",b.value[n.value];try{const s=await L.get("/api/get-solution-category-products",{params:{solution_id:n.value,checkedCategoriesSolutions:b.value}});V.value=s.data.products.data}catch(s){console.error(s)}};function B(s){let a=n.value;a in b.value||(b.value[a]=[]);const o=b.value[a];o.includes(s)?o.splice(o.indexOf(s),1):o.push(s)}const N=C(()=>Math.ceil(j.value/M.value)),D=i([]),F=()=>{D.value=S.value.slice(0,0+M.value)};return C(()=>{const s=[];u.value>1&&s.push("Prev");let o=Math.max(1,u.value-Math.floor(5/2)),m=Math.min(o+5-1,N.value);m-o<4&&(o=Math.max(1,m-5+1));for(let t=o;t<=m;t++)s.push(t);return u.value<N.value&&s.push("Next"),s}),J(()=>{z(),I()}),K(S,F),Q(()=>{l.params,l.query,d!==""&&n.value!==d&&(u.value=1,n.value=d?parseInt(d):1,r!==""&&u.value!==r&&(u.value=r?parseInt(r):1),I())}),(s,a)=>{const o=X("router-link"),m=W;return v(),_("main",te,[e("nav",ae,[e("div",oe,[e("ol",ie,[e("li",le,[c(o,{to:"/"},{default:f(()=>a[0]||(a[0]=[w(" HOME ")])),_:1})]),e("li",ne,[c(o,{to:`/${k.value.slug}`},{default:f(()=>[w(g(k.value.name.toUpperCase()),1)]),_:1},8,["to"])]),e("li",ce,g(h.value.name),1)])])]),e("div",de,[e("div",re,[e("div",ue,[e("div",me,[e("div",_e,[e("div",ge,[e("div",pe,[e("div",ve,[e("div",he,[e("div",be,[e("h2",fe,[e("a",we,g(h.value.name)+" - SOLUTION ",1)])]),e("div",ye,[e("div",Pe,[e("span",{innerHTML:h.value.description},null,8,Ce)])])])])]),(v(!0),_($,null,q(V.value,t=>(v(),_("div",{key:t.id,class:"col-6 col-md-2 col-lg-2 col-xl-2 image-container"},[e("div",ke,[e("figure",xe,[c(o,{to:("getProductLink"in s?s.getProductLink:p(P))(t.id,t.name,t.model_number)},{default:f(()=>[c(m,{src:("assets"in s?s.assets:p(A))(t.main_image_path),alt:t.name,format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src","alt"])]),_:2},1032,["to"]),a[2]||(a[2]=e("div",{class:"product-action-vertical"},null,-1)),e("div",{class:"product-action",disabled:!t},[e("button",{type:"button",class:"btn-product btn-cart",onClick:U=>("addToCart"in s?s.addToCart:p(G))(t)},a[1]||(a[1]=[e("span",null,"Add to Cart",-1)]),8,Me)],8,Le)]),e("div",Se,[e("div",Ve,[c(o,{to:("getProductLink"in s?s.getProductLink:p(P))(t.id,t.name,t.model_number)},{default:f(()=>[w(g(t.product_brand.name),1)]),_:2},1032,["to"])]),e("h3",Ie,[c(o,{to:("getProductLink"in s?s.getProductLink:p(P))(t.id,t.name,t.model_number)},{default:f(()=>[w(g(t.name),1)]),_:2},1032,["to"])]),a[3]||(a[3]=e("div",{class:"ratings-container"},null,-1))])])]))),128))])])]),e("aside",Ne,[e("div",Te,[y.value.length?(v(),_("div",Ae,[a[4]||(a[4]=e("h3",{class:"widget-title"},[e("a",{"data-toggle":"collapse",href:"#widget-1",role:"button","aria-expanded":"true","aria-controls":"widget-1"}," Product Categories ")],-1)),e("div",$e,[e("div",qe,[e("div",Ee,[(v(!0),_($,null,q(y.value,t=>(v(),_("div",{key:t.id,class:"filter-item"},[e("div",He,[e("input",{id:"cat-"+t.id,type:"checkbox",class:"custom-control-input",value:t.id,onChange:U=>B(t.id)},null,40,Oe),e("label",{class:"custom-control-label",for:"cat-"+t.id},g(t.name),9,je)])]))),128))])])])])):Y("",!0),e("div",ze,[e("div",Be,[e("div",De,[c(m,{src:("assets"in s?s.assets:p(A))(h.value.main_image_path),format:"webp",quality:"80",loading:"lazy",class:"w-full h-auto object-cover product-image"},null,8,["src"])])])])])])])])])])}}};export{Xe as default};
