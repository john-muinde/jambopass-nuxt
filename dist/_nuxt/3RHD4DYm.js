import{_ as ct}from"./CqsmrjMa.js";import{_ as mt}from"./CYN0pfaA.js";import{_ as ut}from"./DgcQXIm4.js";import{e as G,a as pt,b as vt}from"./BbJ0mnDJ.js";import{a as m}from"./DrkG6YK4.js";import{_ as _t,u as ht,f as K,r as h,g as gt,s as X,m as bt,c as r,a as t,b as _,w as d,h as o,k as Y,F as g,j as b,t as f,x as ft,o as n,d as y,q as Z,y as S,n as R,i as tt,z as et}from"./C2mZn1MG.js";import{N as yt}from"./D_h8Mb-i.js";import{Q as kt,u as wt}from"./B-_Zbpby.js";import{u as st}from"./DvG5b6wT.js";import{u as Ct,r as at}from"./w16GEga6.js";import{u as xt}from"./BgvMOgoA.js";import"./5emjqw4D.js";import"./BosuxZz1.js";const Lt={class:"main"},Tt={"aria-label":"breadcrumb",class:"breadcrumb-nav border-0 mb-0"},Mt={class:"container d-flex align-items-center"},Ht={class:"breadcrumb"},jt={class:"breadcrumb-item"},Nt={key:0,class:"breadcrumb-item"},Rt={class:"breadcrumb-item"},zt={class:"breadcrumb-item active","aria-current":"page"},Dt={class:"page-content mt-0"},St={class:"container"},$t={key:0,class:"product-error-state"},At={class:"row justify-content-center"},It={class:"col-md-8 text-center py-5"},Ut={class:"error-actions"},Bt={key:1,class:"product-details-top"},Qt={class:"row"},Vt={class:"col-md-5"},qt={class:"product-gallery"},Et={class:"product-main-image"},Ft={id:"product-zoom-gallery",class:"product-image-gallery max-col-6"},Ot=["data-image","data-zoom-image","onMouseover"],Pt=["src","alt"],Jt={class:"product-gallery-shimmer"},Wt={class:"thumbnail-container"},Gt={class:"col-md-7"},Kt={class:"product-details"},Xt={class:"header text-primary"},Yt=["innerHTML"],Zt={key:0,class:"qr_section"},te=["src"],ee={class:"product-details-action product-details-sheffield mt-2"},se=["disabled"],ae={class:"product-details-tab mt-2"},oe={class:"nav nav-pills justify-content-left mobile-description",role:"tablist"},ie={class:"nav-item"},ne={class:"nav-item"},re={class:"tab-content"},le={class:"tab-pane fade active show"},de={class:"product-desc-content"},ce=["innerHTML"],me={class:"product-desc-content"},ue=["innerHTML"],pe={class:"product-details-shimmer"},ve={class:"tabs-shimmer mt-4"},_e={__name:"[...slug]",async setup(he){let z,Q;const u=ht(),{api:ot}=st(),{createProductSchema:it}=wt(),V=K(()=>{var s;return vt((s=a.value)==null?void 0:s.categories_json[0].parent_name_with_slashes)}),$=h(!1),q=h(0),A=h(""),I=h(0),U=h(null),p=h("description"),{data:a,pending:ge,error:nt}=([z,Q]=gt(async()=>Ct(`product-${u.params.id}`,async()=>{try{return(await ot.get("/api/get-product",{params:{product_id:u.params.id}})).data.data}catch{throw new Error("Failed to load product data")}},{server:!0,lazy:!1,immediate:!0})),z=await z,Q(),z),rt=async()=>{try{await at(`product-${u.params.id}`)}catch{}},{API_URL:E}=st();xt(()=>{var e,l,D,k,w,C,x,L,T,M,i;if(!a.value)return{};const s=it(a.value);return{title:(e=a.value)==null?void 0:e.name,meta:[{name:"description",content:((D=(l=a.value)==null?void 0:l.short_description)==null?void 0:D.replace(/<[^>]*>/g,""))||""},{property:"og:title",content:(k=a.value)==null?void 0:k.name},{property:"og:description",content:((C=(w=a.value)==null?void 0:w.short_description)==null?void 0:C.replace(/<[^>]*>/g,""))||""},{property:"og:image",content:m((x=a.value)==null?void 0:x.main_image_path)},{property:"og:url",content:E+u.fullPath},{property:"og:type",content:"product"},{property:"twitter:title",content:(L=a.value)==null?void 0:L.name},{property:"twitter:description",content:((M=(T=a.value)==null?void 0:T.short_description)==null?void 0:M.replace(/<[^>]*>/g,""))||""},{property:"twitter:image",content:m((i=a.value)==null?void 0:i.main_image_path)},{property:"twitter:url",content:E+u.fullPath}],script:[{type:"application/ld+json",children:JSON.stringify(s)}]}});const F=()=>{const s=kt(0,"L");s.addData(u.fullPath),s.make(),U.value=s.createDataURL()},O=()=>{var s;(s=a.value)!=null&&s.product_images&&(P.value=a.value.product_images.map(e=>m(e.name)),q.value=I.value,$.value=!0)},lt=()=>{$.value=!1},dt=(s,e)=>{A.value=s,I.value=e},P=K(()=>{var s,e;return((e=(s=a.value)==null?void 0:s.product_images)==null?void 0:e.map(l=>m(l.name)))||[]});return X(()=>u.params.id,async(s,e)=>{s!==e&&await at(`product-${s}`)}),X(()=>a.value,s=>{var e;((e=s==null?void 0:s.product_images)==null?void 0:e.length)>0&&(A.value=s.product_images[0].name),F()},{immediate:!0}),bt(()=>{F()}),(s,e)=>{var w,C,x,L,T,M;const l=ct,D=mt,k=ut;return n(),r("main",Lt,[t("nav",Tt,[t("div",Mt,[t("ol",Ht,[t("li",jt,[_(l,{to:"/"},{default:d(()=>e[4]||(e[4]=[y("HOME")])),_:1})]),(w=o(a))!=null&&w.categories_json&&((C=o(a))==null?void 0:C.categories_json.length)>0&&((x=o(a))!=null&&x.categories_json[0].parent_name_with_slashes)?(n(),r("li",Nt,[_(l,{to:"/"+((L=V.value)==null?void 0:L.slug)},{default:d(()=>{var i;return[y(f((i=V.value)==null?void 0:i.name.toUpperCase()),1)]}),_:1},8,["to"])])):Y("",!0),t("li",Rt,[(n(!0),r(g,null,b((T=o(a))==null?void 0:T.categories_json,i=>(n(),Z(l,{key:i.id,to:("getCategoryLink"in s?s.getCategoryLink:o(G))(i.id,i.name)},{default:d(()=>[y(f(i.name),1)]),_:2},1032,["to"]))),128))]),t("li",zt,f((M=o(a))==null?void 0:M.name),1)])])]),t("div",Dt,[t("div",St,[o(nt)?(n(),r("div",$t,[t("div",At,[t("div",It,[e[6]||(e[6]=ft('<div class="error-icon mb-4" data-v-64245369><i class="icon-exclamation-circle text-danger" style="font-size:3rem;" data-v-64245369></i></div><h2 class="error-title mb-3" data-v-64245369>Unable to Load Product</h2><p class="error-message text-muted mb-4" data-v-64245369> We&#39;re having trouble loading this product&#39;s information. This might be because: </p><ul class="error-reasons text-left mb-4 mx-auto" style="max-width:400px;" data-v-64245369><li data-v-64245369>The product may no longer be available</li><li data-v-64245369>There might be a temporary connection issue</li><li data-v-64245369>The product URL might be incorrect</li></ul>',4)),t("div",Ut,[t("button",{class:"btn btn-primary me-3",onClick:rt}," Try Again "),_(l,{to:"/",class:"btn btn-outline-primary whitespace-nowrap"},{default:d(()=>e[5]||(e[5]=[y(" Return to Homepage ")])),_:1})]),e[7]||(e[7]=t("p",{class:"mt-4 small text-muted"}," If this problem persists, please contact our support team ",-1))])])])):(n(),r("div",Bt,[t("div",Qt,[t("div",Vt,[_(k,null,{default:d(()=>{var i,H;return[t("div",qt,[t("figure",Et,[_(D,{id:"product-zoom",src:("assets"in s?s.assets:o(m))(A.value),alt:(i=o(a))==null?void 0:i.name,style:{display:"grid","max-width":"100%","max-height":"350px","min-height":"350px",height:"auto","margin-left":"auto","margin-right":"auto",width:"auto"},onClick:O},null,8,["src","alt"]),t("a",{id:"btn-product-gallery",href:"#",class:"btn-product-gallery",onClick:S(O,["prevent"])},e[8]||(e[8]=[t("i",{class:"icon-arrows"},null,-1)]))]),t("div",null,[_(o(yt),{"esc-disabled":"",visible:$.value,imgs:P.value,index:q.value,onHide:lt},null,8,["visible","imgs","index"])]),t("div",Ft,[(n(!0),r(g,null,b((H=o(a))==null?void 0:H.product_images,(c,j)=>{var N;return n(),r("a",{key:c.id,class:R(["product-gallery-item",{active:j===I.value}]),href:"#","data-image":("assets"in s?s.assets:o(m))(c.name),"data-zoom-image":("assets"in s?s.assets:o(m))(c.name),onClick:e[0]||(e[0]=S(()=>{},["prevent"])),onMouseover:B=>dt(c.name,j)},[t("img",{src:("assets"in s?s.assets:o(m))(c.name),alt:(N=o(a))==null?void 0:N.name},null,8,Pt)],42,Ot)}),128))])])]}),fallback:d(()=>[t("div",Jt,[e[9]||(e[9]=t("div",{class:"main-image-shimmer shimmer"},null,-1)),t("div",Wt,[(n(),r(g,null,b(4,i=>t("div",{class:"thumbnail-shimmer shimmer",key:i})),64))])])]),_:1})]),t("div",Gt,[_(k,null,{default:d(()=>{var i,H,c,j,N,B,J,W;return[t("div",Kt,[t("h1",Xt,f((i=o(a))==null?void 0:i.name),1),t("div",{class:"short_description",innerHTML:(H=o(a))==null?void 0:H.short_description},null,8,Yt),t("p",null,[e[10]||(e[10]=t("span",null,"Brand : ",-1)),y(" "+f((c=o(a))==null?void 0:c.brand_name),1)]),e[13]||(e[13]=t("span",null,"Category : ",-1)),(n(!0),r(g,null,b((j=o(a))==null?void 0:j.categories_json,v=>(n(),Z(l,{key:v.id,style:{"font-weight":"500"},to:("getCategoryLink"in s?s.getCategoryLink:o(G))(v.id,v.name)},{default:d(()=>[y(f(v.name),1)]),_:2},1032,["to"]))),128)),U.value?(n(),r("div",Zt,[e[11]||(e[11]=t("small",{class:"mb-1"},"Product QR",-1)),t("img",{style:{width:"120px"},src:U.value,alt:"QR Code"},null,8,te)])):Y("",!0),t("div",ee,[t("button",{type:"button",class:R(["btn-product btn-cart",{"disabled cursor-not-allowed":!((N=o(a))!=null&&N.id)}]),disabled:!((B=o(a))!=null&&B.id),onClick:e[1]||(e[1]=v=>("addToCart"in s?s.addToCart:o(pt))(o(a)))},e[12]||(e[12]=[t("span",null,"Add to Cart",-1)]),10,se)]),t("div",ae,[t("ul",oe,[t("li",ie,[t("a",{class:R(["nav-link active",{active:p.value==="description"}]),href:"#",onClick:e[2]||(e[2]=S(v=>p.value="description",["prevent"]))},"Description",2)]),t("li",ne,[t("a",{class:R(["nav-link",{active:p.value==="specs"}]),href:"#",onClick:e[3]||(e[3]=S(v=>p.value="specs",["prevent"]))},"Technical Specifications",2)])]),t("div",re,[tt(t("div",le,[t("div",de,[t("div",{innerHTML:(J=o(a))==null?void 0:J.description},null,8,ce)])],512),[[et,p.value==="description"]]),tt(t("div",{class:R(["tab-pane fade",{"active show":p.value==="specs"}])},[t("div",me,[t("div",{innerHTML:(W=o(a))==null?void 0:W.technical_specification},null,8,ue)])],2),[[et,p.value==="specs"]])])])])]}),fallback:d(()=>[t("div",pe,[e[14]||(e[14]=t("div",{class:"shimmer title-shimmer mb-4"},null,-1)),(n(),r(g,null,b(3,i=>t("div",{class:"shimmer text-shimmer mb-3",key:i})),64)),e[15]||(e[15]=t("div",{class:"shimmer button-shimmer mt-4"},null,-1)),t("div",ve,[(n(),r(g,null,b(2,i=>t("div",{class:"shimmer tab-shimmer",key:i})),64))])])]),_:1})])])]))])])])}}},Re=_t(_e,[["__scopeId","data-v-64245369"]]);export{Re as default};
