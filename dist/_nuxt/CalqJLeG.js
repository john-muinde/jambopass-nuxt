import{M as g}from"./DDSxoUa3.js";import{e as h,ci as I,r as A,f as S,cj as $,u as v}from"./ChtoClap.js";const m=(t,r="success",e="Success")=>{r=r.toLowerCase(),(!e||e.length==0||r!="success")&&(e=r.substring(0,1).toUpperCase()+r.substring(1)),g[r]({message:e,description:t,placement:"topRight",duration:3})},C=h("cart-store",{state:()=>({stateCartItems:[]}),actions:{addToCart(t){const r=this.stateCartItems.find(e=>e.id===t.id);r?r.quantity++:(t.quantity=1,this.stateCartItems.push(t))},removeFromCart(t){this.stateCartItems.splice(t,1)},clearCart(){this.stateCartItems=[]}},getters:{cartItems:t=>t.stateCartItems,total:t=>t.stateCartItems.reduce((r,e)=>r+e.price*e.quantity,0)},persist:{storage:I.sessionStorage()}});function p(t){return t=Array.isArray(t)?t[0]:t,$.find(r=>[r.slug,...r.slugs||[]].includes(t))}const T=(t,r,e)=>{const s=r.toLowerCase().replace(/[\s/]+/g,"-").replace(/^-+|-+$/g,"");return`/${e.slug}/solutions/${t}/${s}`},c=t=>t.toLowerCase().replace(/[\s/]+/g,"-").replace(/[^\w-]+/g,"").replace(/^-+|-+$/g,"");function b(t={}){var l,d,f;if(!t)return`/${$[0].slug}`;const{id:r,name:e,model_number:s,categories_json:a}=t,o=(f=p((d=(l=a==null?void 0:a[0])==null?void 0:l.parent_name_with_slashes)==null?void 0:d.split("/")[0]))==null?void 0:f.slug,u=c(e),i=c(s);return o?`/${o}/product/${r}/${u}-${i}`:`/product/${r}/${u}-${i}`}const n=A(!1),L=S(()=>n.value?"Adding...":"Add to Cart");function _(t){if(n.value)return;n.value=!0;const r=C();try{r.addToCart(t),m("Item added to cart","success")}catch(e){console.error(e),m("An error occurred. Please try again","error")}finally{n.value=!1}}const y=(t,r,e,s)=>{if(!s){const o=v();s=p(o.params.segment)}const a=c(r);return e?s?`/${s.slug}/${t}/${a}/page/${e}`:`/product/${t}/${a}/page/${e}`:s?`/${s.slug}/${t}/${a}`:`/product/${t}/${a}`};function F(t){C().removeFromCart(t)}function M(t){return typeof t=="string"&&(t=parseFloat(t)),new Intl.NumberFormat("en-KE").format(t)}function w(t,r){return Math.round((t-r)/t*100)}function x(t){const r=["and","the","of","in","on","at","to","a","an"];return t.split(" ").map(e=>r.includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}export{_ as a,p as b,x as c,T as d,y as e,w as f,b as g,M as h,L as i,F as r,C as u};
