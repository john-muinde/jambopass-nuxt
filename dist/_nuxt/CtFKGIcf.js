import{e as d,c3 as l}from"./Cq97AGyi.js";function n(t,e,r,o){const i=o==null?void 0:o.split("/")[0];let a=e.replace(/ /g,"-").replace(/\//g,"-");a=a.replace(/-+/g,"-"),a=a.replace(/^-+|-+$/g,""),a=a.toLowerCase();let s=r.toLowerCase().replace(/ /g,"-").replace(/\//g,"-");return s=s.replace(/-+/g,"-"),s=s.replace(/^-+|-+$/g,""),`/${i}/product/${t}/${a}-${s}`}const u=d(()=>isAdding.value?"Adding...":"Add to Cart");function m(t){if(!isAdding.value){isAdding.value=!0;try{const e=window.Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:4e3,padding:"2em"});$store.dispatch("cart/addToCart",t),e.fire({icon:"success",title:"Item added to cart",padding:"2em",customClass:{title:"swal-title-class"}})}catch(e){console.error(e),toast.fire({icon:"error",title:"Failed to add item to cart",padding:"2em",customClass:{title:"swal-title-class"}})}finally{isAdding.value=!1}}}function f(t){return new Intl.NumberFormat("en-KE").format(t)}function C(t,e){return Math.round((t-e)/t*100)}const g=l("cart-store",{state:()=>({stateCartItems:[]}),actions:{addToCart(t){const e=this.stateCartItems.find(r=>r.id===t.id);e?e.quantity++:(t.quantity=1,this.stateCartItems.push(t))},removeFromCart(t){this.stateCartItems.splice(t,1)},clearCart(){this.stateCartItems=[]}},getters:{cartItems:t=>t.stateCartItems,total:t=>t.stateCartItems.reduce((e,r)=>e+r.price*r.quantity,0)}});export{m as a,u as b,C as c,f,n as g,g as u};
